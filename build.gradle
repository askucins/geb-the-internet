// See more at: https://docs.gradle.org/current/userguide/groovy_plugin.html
apply plugin: 'groovy'

repositories {
    jcenter()
}

dependencies {
    testCompile "org.codehaus.groovy:groovy-all:2.4.12"

    testCompile "org.slf4j:slf4j-api:1.7.25"
    testCompile "ch.qos.logback:logback-classic:1.2.3"

    testCompile "org.spockframework:spock-core:1.1-groovy-2.4"

//    testCompile("com.athaydes:spock-reports:1.3.2") {
//        transitive = false // this avoids affecting your version of Groovy/Spock
//    }

    def gebVersion = "2.0"
    testCompile "org.gebish:geb-core:${gebVersion}"
    testCompile "org.gebish:geb-spock:${gebVersion}"

    def seleniumVersion = "3.6.0"
    testCompile "org.seleniumhq.selenium:selenium-chrome-driver:${seleniumVersion}"
    //testCompile "org.seleniumhq.selenium:selenium-firefox-driver:${seleniumVersion}"
    testCompile "org.seleniumhq.selenium:selenium-support:${seleniumVersion}"
}

tasks.withType(Test) {
    systemProperty 'geb.build.reportsDir', 'reports'
    systemProperty 'webdriver.chrome.driver', '/opt/webdriver/chromedriver'
    systemProperty 'webdriver.gecko.driver', '/opt/webdriver/geckodriver'

    testLogging {
        // Show that tests are run in the command-line output
        events 'started', 'passed'
    }
}
